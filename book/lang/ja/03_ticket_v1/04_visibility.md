# 可視性

コードを複数のモジュールに分割し始めるとき、**可視性**について考え始める必要があります。
可視性は、コードの（または他の人のコードの）どの領域が、構造体、関数、フィールドなどの特定のエンティティにアクセスできるかを決定します。

## デフォルトはプライベート

デフォルトでは、Rustのすべては**プライベート**です。  
プライベートエンティティには以下の場合のみアクセスできます：

1. それが定義されているのと同じモジュール内、または
2. そのサブモジュールの一つから

これまでの演習で広くこれを使用してきました：

- `create_todo_ticket`は（`use`文を追加した後）動作しました。これは`helpers`がクレートルートのサブモジュールで、そこで`Ticket`が定義されているからです。したがって、`create_todo_ticket`は`Ticket`がプライベートであっても問題なく`Ticket`にアクセスできます。
- すべてのユニットテストは、テストしているコードのサブモジュールで定義されているので、制限なしにすべてにアクセスできます。

## 可視性修飾子

**可視性修飾子**を使用してエンティティのデフォルトの可視性を変更できます。  
一般的な可視性修飾子には以下があります：

- `pub`: エンティティを**公開**にします。つまり、定義されているモジュールの外側から、潜在的に他のクレートからもアクセス可能になります。
- `pub(crate)`: 同じ**クレート**内では公開にしますが、その外側では公開しません。
- `pub(super)`: 親モジュール内で公開にします。
- `pub(in path::to::module)`: 指定されたモジュール内で公開にします。

これらの修飾子はモジュール、構造体、関数、フィールドなどに使用できます。
例えば：

```rust
pub struct Configuration {
    pub(crate) version: u32,
    active: bool,
}
```

`Configuration`は公開ですが、`version`フィールドには同じクレート内からのみアクセスできます。
`active`フィールドは代わりにプライベートで、同じモジュールまたはそのサブモジュールの一つからのみアクセスできます。