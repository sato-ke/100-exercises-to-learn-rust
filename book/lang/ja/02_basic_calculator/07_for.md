# ループ、パート2：`for`

カウンタ変数を手動でインクリメントするのは少し面倒です。このパターンも非常に一般的です！
これを簡単にするために、Rustは値の範囲を反復するより簡潔な方法を提供しています：`for`ループです。

## `for`ループ

`for`ループは、イテレータ[^iterator]の各要素に対してコードブロックを実行する方法です。

一般的な構文は次のとおりです：

```rust
for <element> in <iterator> {
    // 実行するコード
}
```

## 範囲

Rustの標準ライブラリは、数値のシーケンスを反復するために使用できる**範囲**型を提供しています[^weird-ranges]。

例えば、1から5までの数値を合計したい場合：

```rust
let mut sum = 0;
for i in 1..=5 {
    sum += i;
}
```

ループが実行されるたびに、コードブロックを実行する前に`i`に範囲内の次の値が割り当てられます。

Rustには5種類の範囲があります：

- `1..5`：（半開）範囲。1から4までのすべての数値を含みます。最後の値5は含まれません。
- `1..=5`：包含範囲。1から5までのすべての数値を含みます。最後の値5も含まれます。
- `1..`：開放範囲。1から無限大（正確には、整数型の最大値）までのすべての数値を含みます。
- `..5`：整数型の最小値から始まり4で終わる範囲。最後の値5は含まれません。
- `..=5`：整数型の最小値から始まり5で終わる範囲。最後の値5も含まれます。

開始点が明示的に指定されている最初の3種類の範囲で`for`ループを使用できます。最後の2つの範囲型は、後で説明する他のコンテキストで使用されます。

範囲の極値は整数リテラルである必要はありません。変数や式も使用できます！

例えば：

```rust
let end = 5;
let mut sum = 0;

for i in 1..(end + 1) {
    sum += i;
}
```

## さらに読む

- [`for`ループのドキュメント](https://doc.rust-lang.org/std/keyword.for.html)

[^iterator]: コースの後半で「イテレータ」として数えられるものの正確な定義を示します。
今のところ、ループできる値のシーケンスと考えてください。
[^weird-ranges]: 他の型（文字やIPアドレスなど）でも範囲を使用できますが、
整数は日常的なRustプログラミングで最も一般的なケースです。