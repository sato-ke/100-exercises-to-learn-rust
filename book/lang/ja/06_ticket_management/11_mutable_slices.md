# 可変スライス

スライス型（`str`や`[T]`など）について話すたびに、不変借用形式（`&str`や`&[T]`）を使用してきました。\
しかし、スライスは可変にもなり得ます！

可変スライスを作成する方法は以下の通りです：

```rust
let mut numbers = vec![1, 2, 3];
let slice: &mut [i32] = &mut numbers;
```

その後、スライス内の要素を変更できます：

```rust
slice[0] = 42;
```

これにより、`Vec`の最初の要素が`42`に変更されます。

## 制限

不変借用を扱う際の推奨事項は明確でした：所有型への参照よりもスライス参照を好む（例：`&Vec<T>`よりも`&[T]`）。\
これは可変借用の場合は**当てはまりません**。

次のシナリオを考えてみてください：

```rust
let mut numbers = Vec::with_capacity(2);
let mut slice: &mut [i32] = &mut numbers;
slice.push(1);
```

これはコンパイルしません！\
`push`は`Vec`のメソッドであり、スライスのメソッドではありません。これはより一般的な原則の現れです：Rustはスライスから要素を追加または削除することを許可しません。既にそこにある要素のみを変更/置換できます。

この点で、`&mut Vec`や`&mut String`は`&mut [T]`や`&mut str`よりも厳密により強力です。\
実行する必要がある操作に基づいて最も適した型を選択してください。